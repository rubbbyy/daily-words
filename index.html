<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Daily Words by Rubby</title>
<link id="favicon" rel="icon" type="image/svg+xml" href="">
<style>
:root{--bg:#f6f9ff;--card:#fff;--text:#111;--muted:#6b7280;--brand:#2563EB;--accent:#2563EB}
*{box-sizing:border-box}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,"PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Microsoft YaHei",sans-serif;background:linear-gradient(180deg,#eaf2ff,#ffffff 60%)}
.container{max-width:1000px;margin:40px auto;padding:0 16px}
.card{background:var(--card);border-radius:16px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.08)}
.topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:14px}
.brand{display:flex;gap:10px;align-items:center}
.brand svg{width:32px;height:32px;display:block}
.brand-title{font-weight:800;letter-spacing:.2px;font-size:20px}
.logo-chooser{display:flex;gap:8px;align-items:center}
.small{font-size:13px;color:var(--muted)}
.search{width:100%;height:42px;padding:0 12px;font-size:16px;border:1px solid #e5e7eb;border-radius:10px}
.filters{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
.pill{display:flex;align-items:center;padding:6px 10px;border-radius:999px;background:#eff6ff;color:#1d4ed8;border:1px solid #bfdbfe;font-size:14px}
.list{margin:8px 0 0;padding:0;list-style:none}
.item{border-bottom:1px solid #f1f5f9;padding:10px 0}
.summary{display:flex;gap:8px;align-items:center;justify-content:space-between;cursor:pointer}
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.word{font-weight:700}
.count{margin-top:6px;color:#64748b;font-size:14px}
.details{margin-top:8px;color:#111;line-height:1.6}
.ipa{background:#f8fafc;border-radius:8px;padding:8px;border:1px solid #eef2f7;margin-bottom:6px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.btn{height:40px;padding:0 14px;border:none;border-radius:10px;background:var(--brand);color:#fff}
.badge{font-size:12px;background:#e2e8f0;color:#334155;border-radius:6px;padding:2px 6px;white-space:nowrap}

.spk-btn{display:inline-flex;align-items:center;gap:4px;border:1px solid #e5e7eb;border-radius:10px;padding:4px 8px;font-size:13px;color:#334155;background:#fff;cursor:pointer}
.spk-btn .spk{width:16px;height:16px}
.spk-btn:hover{border-color:#cbd5e1}
.spk-btn.playing{background:#e0ebff;border-color:var(--accent);color:#1d4ed8}
.spk-pair{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

.hint{color:#64748b;font-size:12px;margin-top:4px}
</style>
</head>
<body>
  <div class="container">
    <div class="card">

      <div class="topbar">
        <div class="brand">
          <span id="logo-slot" aria-label="logo"></span>
          <div class="brand-title">Daily Words by Rubby</div>
        </div>
        <div class="logo-chooser">
          <span class="small">Logoï¼š</span>
          <select id="logoSelect" title="Switch logo">
            <option value="C">C Â· Focusï¼ˆé»˜è®¤ï¼‰</option>
            <option value="B">B Â· Glass</option>
            <option value="A">A Â· Geo</option>
          </select>
          <button id="export" class="btn">Export CSV</button>
        </div>
      </div>

      <input id="search" class="search" type="search" placeholder="Searchï¼ˆä¸­æ–‡/Englishï¼Œå¦‚ apple / è‹¹æœ / towelï¼‰">
      <div class="filters"><label class="pill"><input type="checkbox" class="cat-filter" value="Fruits" checked>Fruits</label><label class="pill"><input type="checkbox" class="cat-filter" value="Vegetables" checked>Vegetables</label><label class="pill"><input type="checkbox" class="cat-filter" value="Daily" checked>Daily</label></div>
      <div class="count" id="count"></div>
      <ul id="list" class="list"></ul>

      <div class="hint">æç¤ºï¼šç‚¹å‡»è‹±æ–‡å•è¯å¯ç”¨é»˜è®¤å£éŸ³æœ—è¯»ï¼›å±•å¼€åå¯åˆ†åˆ«æ’­æ”¾è‹±å¼ğŸ”‰ / ç¾å¼ğŸ”Šã€‚å¦‚æ— å£°éŸ³ï¼Œå°è¯•ç‚¹ä¸€ä¸‹é¡µé¢ä»¥å…è®¸éŸ³é¢‘ã€‚</div>
    </div>
  </div>

<script>
const RAW = [{"category": "Fruits", "zh": "è‹¹æœ", "en": "apple", "ipa_br": "/ËˆÃ¦p.É™l/", "ipa_am": "/ËˆÃ¦p.É™l/", "example": "I eat an apple every morning."}, {"category": "Fruits", "zh": "é¦™è•‰", "en": "banana", "ipa_br": "/bÉ™ËˆnÉ‘Ë.nÉ™/", "ipa_am": "/bÉ™ËˆnÃ¦n.É™/", "example": "Bananas are rich in potassium."}, {"category": "Fruits", "zh": "æ©™å­", "en": "orange", "ipa_br": "/ËˆÉ’r.ÉªndÊ’/", "ipa_am": "/ËˆÉ”Ër.ÉªndÊ’/", "example": "Would you like some orange juice?"}, {"category": "Fruits", "zh": "è‘¡è„", "en": "grape", "ipa_br": "/É¡reÉªp/", "ipa_am": "/É¡reÉªp/", "example": "These grapes taste sweet."}, {"category": "Fruits", "zh": "è‰è“", "en": "strawberry", "ipa_br": "/ËˆstrÉ”Ë.bÉ™r.i/", "ipa_am": "/ËˆstrÉ”ËËŒbÉ›r.i/", "example": "Strawberry jam is delicious."}, {"category": "Fruits", "zh": "è¥¿ç“œ", "en": "watermelon", "ipa_br": "/ËˆwÉ”Ë.tÉ™ËŒmel.É™n/", "ipa_am": "/ËˆwÉ”Ë.tÉšËŒmel.É™n/", "example": "We had watermelon at the picnic."}, {"category": "Fruits", "zh": "å“ˆå¯†ç“œ/ç”œç“œ", "en": "melon", "ipa_br": "/Ëˆmel.É™n/", "ipa_am": "/Ëˆmel.É™n/", "example": "This melon is very juicy."}, {"category": "Fruits", "zh": "è è/å‡¤æ¢¨", "en": "pineapple", "ipa_br": "/ËˆpaÉªnËŒÃ¦p.É™l/", "ipa_am": "/ËˆpaÉªnËŒÃ¦p.É™l/", "example": "Pineapple on pizza is controversial."}, {"category": "Fruits", "zh": "æ¡ƒå­", "en": "peach", "ipa_br": "/piËtÊƒ/", "ipa_am": "/piËtÊƒ/", "example": "The peach is soft and ripe."}, {"category": "Fruits", "zh": "æ¢¨", "en": "pear", "ipa_br": "/peÉ™/", "ipa_am": "/per/", "example": "She sliced a pear for dessert."}, {"category": "Fruits", "zh": "æ¨±æ¡ƒ", "en": "cherry", "ipa_br": "/ËˆtÊƒer.i/", "ipa_am": "/ËˆtÊƒer.i/", "example": "The cake is topped with cherries."}, {"category": "Fruits", "zh": "æŸ æª¬", "en": "lemon", "ipa_br": "/Ëˆlem.É™n/", "ipa_am": "/Ëˆlem.É™n/", "example": "Add lemon to your tea."}, {"category": "Fruits", "zh": "é’æŸ ", "en": "lime", "ipa_br": "/laÉªm/", "ipa_am": "/laÉªm/", "example": "Lime adds a fresh flavor."}, {"category": "Fruits", "zh": "è“è“", "en": "blueberry", "ipa_br": "/ËˆbluËËŒber.i/", "ipa_am": "/ËˆbluËËŒbÉ›r.i/", "example": "Blueberry muffins are my favorite."}, {"category": "Fruits", "zh": "é»‘è“", "en": "blackberry", "ipa_br": "/ËˆblÃ¦kËŒber.i/", "ipa_am": "/ËˆblÃ¦kËŒbÉ›r.i/", "example": "We picked blackberries in the woods."}, {"category": "Fruits", "zh": "è¦†ç›†å­", "en": "raspberry", "ipa_br": "/ËˆrÉ‘ËzËŒber.i/", "ipa_am": "/ËˆrÃ¦zËŒbÉ›r.i/", "example": "Raspberry sauce goes well with cheesecake."}, {"category": "Fruits", "zh": "çŒ•çŒ´æ¡ƒ", "en": "kiwi", "ipa_br": "/ËˆkiË.wiË/", "ipa_am": "/ËˆkiË.wiË/", "example": "Peel the kiwi before eating."}, {"category": "Fruits", "zh": "èŠ’æœ", "en": "mango", "ipa_br": "/ËˆmÃ¦Å‹.É¡É™ÊŠ/", "ipa_am": "/ËˆmÃ¦Å‹.É¡oÊŠ/", "example": "Mango smoothies are refreshing."}, {"category": "Fruits", "zh": "æ¤°å­", "en": "coconut", "ipa_br": "/ËˆkÉ™ÊŠ.kÉ™.nÊŒt/", "ipa_am": "/ËˆkoÊŠ.kÉ™.nÊŒt/", "example": "Coconut water is hydrating."}, {"category": "Fruits", "zh": "æœ¨ç“œ", "en": "papaya", "ipa_br": "/pÉ™ËˆpaÉª.É™/", "ipa_am": "/pÉ™ËˆpaÉª.É™/", "example": "Papaya aids digestion."}, {"category": "Fruits", "zh": "ç™¾é¦™æœ", "en": "passion fruit", "ipa_br": "/ËˆpÃ¦Êƒ.É™n fruËt/", "ipa_am": "/ËˆpÃ¦Êƒ.É™n fruËt/", "example": "Passion fruit has a unique aroma."}, {"category": "Fruits", "zh": "çŸ³æ¦´", "en": "pomegranate", "ipa_br": "/ËˆpÉ’m.ÉªËŒgrÃ¦n.Éªt/", "ipa_am": "/ËˆpÉ‘Ë.mÉ™ËŒgrÃ¦n.Éªt/", "example": "Pomegranate seeds are crunchy."}, {"category": "Fruits", "zh": "æå­", "en": "plum", "ipa_br": "/plÊŒm/", "ipa_am": "/plÊŒm/", "example": "She ate a ripe plum."}, {"category": "Fruits", "zh": "æ", "en": "apricot", "ipa_br": "/ËˆeÉª.prÉª.kÉ’t/", "ipa_am": "/ËˆeÉª.prÉª.kÉ‘Ët/", "example": "Dried apricots are sweet."}, {"category": "Fruits", "zh": "è‘¡è„æŸš", "en": "grapefruit", "ipa_br": "/ËˆgreÉªp.fruËt/", "ipa_am": "/ËˆgreÉªp.fruËt/", "example": "Grapefruit can be bitter."}, {"category": "Fruits", "zh": "æŸšå­", "en": "pomelo", "ipa_br": "/ËˆpÉ’m.ÉªlÉ™ÊŠ/", "ipa_am": "/ËˆpÉ‘Ë.mÉ™ËŒloÊŠ/", "example": "Pomelo is similar to grapefruit."}, {"category": "Fruits", "zh": "æ¨±æ¡ƒç•ªèŒ„", "en": "cherry tomato", "ipa_br": "/tÊƒer.i tÉ™ËˆmÉ‘Ë.tÉ™ÊŠ/", "ipa_am": "/tÊƒer.i tÉ™ËˆmeÉª.toÊŠ/", "example": "Add cherry tomatoes to the salad."}, {"category": "Fruits", "zh": "æ¡‘è‘š", "en": "mulberry", "ipa_br": "/ËˆmÊŒlËŒber.i/", "ipa_am": "/ËˆmÊŒlËŒbÉ›r.i/", "example": "Mulberries stain easily."}, {"category": "Fruits", "zh": "æ— èŠ±æœ", "en": "fig", "ipa_br": "/fÉªÉ¡/", "ipa_am": "/fÉªÉ¡/", "example": "Fresh figs are seasonal."}, {"category": "Fruits", "zh": "è”æ", "en": "lychee", "ipa_br": "/ËˆliË.tÊƒiË/", "ipa_am": "/ËˆliË.tÊƒiË/", "example": "Lychees have a floral taste."}, {"category": "Fruits", "zh": "é¾™çœ¼", "en": "longan", "ipa_br": "/ËˆlÉ’Å‹.É¡É™n/", "ipa_am": "/ËˆlÉ‘ËÅ‹.É¡É™n/", "example": "Longan is sweet and juicy."}, {"category": "Fruits", "zh": "å±±ç«¹", "en": "mangosteen", "ipa_br": "/ËˆmÃ¦Å‹.É¡É™ËŒstiËn/", "ipa_am": "/ËˆmÃ¦Å‹.É¡oÊŠËŒstiËn/", "example": "Mangosteen is called the queen of fruits."}, {"category": "Fruits", "zh": "æ¨æ¡ƒ", "en": "starfruit", "ipa_br": "/ËˆstÉ‘Ë.fruËt/", "ipa_am": "/ËˆstÉ‘Ër.fruËt/", "example": "Starfruit has a star shape when sliced."}, {"category": "Fruits", "zh": "è”“è¶Šè“", "en": "cranberry", "ipa_br": "/ËˆkrÃ¦n.bÉ™r.i/", "ipa_am": "/ËˆkrÃ¦n.bÉ›r.i/", "example": "Cranberry juice is tart."}, {"category": "Fruits", "zh": "æ£", "en": "jujube", "ipa_br": "/ËˆdÊ’uËdÊ’uËb/", "ipa_am": "/ËˆdÊ’uËdÊ’uËb/", "example": "Jujube is often dried."}, {"category": "Fruits", "zh": "æ³¢ç½—èœœ", "en": "jackfruit", "ipa_br": "/ËˆdÊ’Ã¦k.fruËt/", "ipa_am": "/ËˆdÊ’Ã¦k.fruËt/", "example": "Jackfruit can be used as a meat substitute."}, {"category": "Fruits", "zh": "æ¦´è²", "en": "durian", "ipa_br": "/ËˆdjÊŠÉ™.ri.É™n/", "ipa_am": "/ËˆdÊŠr.i.É™n/", "example": "Durian has a strong smell."}, {"category": "Fruits", "zh": "æ¤°æ£", "en": "date", "ipa_br": "/deÉªt/", "ipa_am": "/deÉªt/", "example": "Dates are very sweet."}, {"category": "Fruits", "zh": "æ©˜å­", "en": "tangerine", "ipa_br": "/ËŒtÃ¦n.dÊ’É™ËˆriËn/", "ipa_am": "/ËŒtÃ¦n.dÊ’É™ËˆriËn/", "example": "Tangerines are easy to peel."}, {"category": "Vegetables", "zh": "èƒ¡èåœ", "en": "carrot", "ipa_br": "/ËˆkÃ¦r.É™t/", "ipa_am": "/ËˆkÃ¦r.É™t/", "example": "Carrots are good for your eyes."}, {"category": "Vegetables", "zh": "è¥¿çº¢æŸ¿/ç•ªèŒ„", "en": "tomato", "ipa_br": "/tÉ™ËˆmÉ‘Ë.tÉ™ÊŠ/", "ipa_am": "/tÉ™ËˆmeÉª.toÊŠ/", "example": "Tomatoes are used in many sauces."}, {"category": "Vegetables", "zh": "é»„ç“œ", "en": "cucumber", "ipa_br": "/ËˆkjuË.kÊŒm.bÉ™/", "ipa_am": "/ËˆkjuË.kÊŒm.bÉš/", "example": "Cucumber is refreshing."}, {"category": "Vegetables", "zh": "åœŸè±†", "en": "potato", "ipa_br": "/pÉ™ËˆteÉª.tÉ™ÊŠ/", "ipa_am": "/pÉ™ËˆteÉª.toÊŠ/", "example": "Mashed potatoes are creamy."}, {"category": "Vegetables", "zh": "çº¢è–¯/åœ°ç“œ", "en": "sweet potato", "ipa_br": "/swiËt pÉ™ËˆteÉª.tÉ™ÊŠ/", "ipa_am": "/swiËt pÉ™ËˆteÉª.toÊŠ/", "example": "Sweet potatoes are nutritious."}, {"category": "Vegetables", "zh": "æ´‹è‘±", "en": "onion", "ipa_br": "/ËˆÊŒn.jÉ™n/", "ipa_am": "/ËˆÊŒn.jÉ™n/", "example": "Onions can make you cry."}, {"category": "Vegetables", "zh": "å¤§è’œ", "en": "garlic", "ipa_br": "/ËˆÉ¡É‘Ë.lÉªk/", "ipa_am": "/ËˆÉ¡É‘Ër.lÉªk/", "example": "Garlic adds strong flavor."}, {"category": "Vegetables", "zh": "å§œ", "en": "ginger", "ipa_br": "/ËˆdÊ’Éªn.dÊ’É™/", "ipa_am": "/ËˆdÊ’Éªn.dÊ’Éš/", "example": "Ginger warms the body."}, {"category": "Vegetables", "zh": "è¥¿å…°èŠ±", "en": "broccoli", "ipa_br": "/ËˆbrÉ’k.É™l.i/", "ipa_am": "/ËˆbrÉ‘Ë.kÉ™.li/", "example": "Broccoli is rich in fiber."}, {"category": "Vegetables", "zh": "èŠ±æ¤°èœ/èœèŠ±", "en": "cauliflower", "ipa_br": "/ËˆkÉ’l.ÉªËŒflaÊŠ.É™/", "ipa_am": "/ËˆkÉ‘Ë.lÉ™ËŒflaÊŠ.Éš/", "example": "Cauliflower rice is low-carb."}, {"category": "Vegetables", "zh": "ç”Ÿèœ", "en": "lettuce", "ipa_br": "/Ëˆlet.Éªs/", "ipa_am": "/Ëˆlet.Éªs/", "example": "Lettuce is used in salads."}, {"category": "Vegetables", "zh": "è èœ", "en": "spinach", "ipa_br": "/ËˆspÉªn.ÉªtÊƒ/", "ipa_am": "/ËˆspÉªn.ÉªtÊƒ/", "example": "Spinach is high in iron."}, {"category": "Vegetables", "zh": "å·å¿ƒèœ", "en": "cabbage", "ipa_br": "/ËˆkÃ¦b.ÉªdÊ’/", "ipa_am": "/ËˆkÃ¦b.ÉªdÊ’/", "example": "Cabbage can be fermented into kimchi."}, {"category": "Vegetables", "zh": "è˜‘è‡", "en": "mushroom", "ipa_br": "/ËˆmÊŒÊƒ.ruËm/", "ipa_am": "/ËˆmÊŒÊƒ.ruËm/", "example": "Mushrooms soak up sauces."}, {"category": "Vegetables", "zh": "ç‰ç±³", "en": "corn", "ipa_br": "/kÉ”Ën/", "ipa_am": "/kÉ”Ërn/", "example": "Corn on the cob is tasty."}, {"category": "Vegetables", "zh": "è±Œè±†", "en": "peas", "ipa_br": "/piËz/", "ipa_am": "/piËz/", "example": "Peas are small and sweet."}, {"category": "Vegetables", "zh": "å››å­£è±†/è±†è§’", "en": "green beans", "ipa_br": "/ËŒgriËn ËˆbiËnz/", "ipa_am": "/ËŒgriËn ËˆbiËnz/", "example": "Green beans are crunchy."}, {"category": "Vegetables", "zh": "å½©æ¤’ï¼ˆç”œæ¤’ï¼‰", "en": "bell pepper", "ipa_br": "/bel Ëˆpep.É™/", "ipa_am": "/bel Ëˆpep.Éš/", "example": "Bell peppers come in many colors."}, {"category": "Vegetables", "zh": "è¾£æ¤’", "en": "chili pepper", "ipa_br": "/ËˆtÊƒÉªl.i/", "ipa_am": "/ËˆtÊƒÉªl.i/", "example": "Chili peppers add heat."}, {"category": "Vegetables", "zh": "èŒ„å­", "en": "eggplant / aubergine", "ipa_br": "/ËˆeÉ¡.plÉ‘Ënt/", "ipa_am": "/ËˆÉ›É¡ËŒplÃ¦nt/", "example": "Eggplant absorbs oil easily."}, {"category": "Vegetables", "zh": "èŠ¹èœ", "en": "celery", "ipa_br": "/Ëˆsel.É™r.i/", "ipa_am": "/Ëˆsel.Éš.i/", "example": "Celery is crunchy."}, {"category": "Vegetables", "zh": "å—ç“œ", "en": "pumpkin", "ipa_br": "/ËˆpÊŒmp.kÉªn/", "ipa_am": "/ËˆpÊŒmp.kÉªn/", "example": "Pumpkin soup is comforting."}, {"category": "Vegetables", "zh": "è¥¿è‘«èŠ¦", "en": "zucchini", "ipa_br": "/zuËËˆkiË.ni/", "ipa_am": "/zuËËˆkiË.ni/", "example": "Zucchini noodles are popular."}, {"category": "Vegetables", "zh": "èŠ¦ç¬‹", "en": "asparagus", "ipa_br": "/É™ËˆspÃ¦r.É™.É¡É™s/", "ipa_am": "/É™ËˆspÃ¦r.É™.É¡É™s/", "example": "Asparagus is in season in spring."}, {"category": "Vegetables", "zh": "è‘±/é¦™è‘±", "en": "scallion / green onion", "ipa_br": "/ËˆskÃ¦l.jÉ™n/", "ipa_am": "/ËˆskÃ¦l.jÉ™n/", "example": "Scallions add freshness."}, {"category": "Vegetables", "zh": "è´ç¬‹", "en": "romaine / lettuce stem", "ipa_br": "/rÉ™ÊŠËˆmeÉªn/", "ipa_am": "/roÊŠËˆmeÉªn/", "example": "Romaine is used in Caesar salad."}, {"category": "Vegetables", "zh": "è—•", "en": "lotus root", "ipa_br": "/ËˆlÉ™ÊŠ.tÉ™s ruËt/", "ipa_am": "/ËˆloÊŠ.tÉ™s ruËt/", "example": "Lotus root is crunchy when stir-fried."}, {"category": "Vegetables", "zh": "è‹¦ç“œ", "en": "bitter melon", "ipa_br": "/ËˆbÉªt.É™ Ëˆmel.É™n/", "ipa_am": "/ËˆbÉªt.Éš Ëˆmel.É™n/", "example": "Bitter melon has a distinct taste."}, {"category": "Vegetables", "zh": "ç«¹ç¬‹", "en": "bamboo shoot", "ipa_br": "/ËˆbÃ¦m.buË ÊƒuËt/", "ipa_am": "/ËˆbÃ¦m.buË ÊƒuËt/", "example": "Bamboo shoots are tender."}, {"category": "Vegetables", "zh": "æµ·å¸¦", "en": "kelp", "ipa_br": "/kelp/", "ipa_am": "/kelp/", "example": "Kelp is used in soups."}, {"category": "Vegetables", "zh": "é¦™èœ", "en": "cilantro / coriander", "ipa_br": "/sÉªËˆlÃ¦n.trÉ™ÊŠ/", "ipa_am": "/sÉªËˆlÃ¦n.troÊŠ/", "example": "Cilantro divides opinions."}, {"category": "Vegetables", "zh": "ç´«ç”˜è“", "en": "red cabbage", "ipa_br": "/red ËˆkÃ¦b.ÉªdÊ’/", "ipa_am": "/red ËˆkÃ¦b.ÉªdÊ’/", "example": "Red cabbage is colorful."}, {"category": "Vegetables", "zh": "ç”œèœæ ¹", "en": "beetroot", "ipa_br": "/ËˆbiËt.ruËt/", "ipa_am": "/ËˆbiËt.ruËt/", "example": "Beetroot can be roasted."}, {"category": "Vegetables", "zh": "åœŸè±†æ³¥åŸæ–™", "en": "russet potato", "ipa_br": "/ËˆrÊŒs.Éªt/", "ipa_am": "/ËˆrÊŒs.Éªt/", "example": "Russet potatoes are great for baking."}, {"category": "Daily", "zh": "ç‰™åˆ·", "en": "toothbrush", "ipa_br": "/ËˆtuËÎ¸.brÊŒÊƒ/", "ipa_am": "/ËˆtuËÎ¸.brÊŒÊƒ/", "example": "Use your toothbrush twice a day."}, {"category": "Daily", "zh": "ç‰™è†", "en": "toothpaste", "ipa_br": "/ËˆtuËÎ¸.peÉªst/", "ipa_am": "/ËˆtuËÎ¸.peÉªst/", "example": "Don't forget the toothpaste."}, {"category": "Daily", "zh": "ç‰™çº¿", "en": "dental floss", "ipa_br": "/Ëˆden.tÉ™l flÉ’s/", "ipa_am": "/Ëˆden.tÉ™l flÉ”Ës/", "example": "Dental floss keeps gums healthy."}, {"category": "Daily", "zh": "æ¯›å·¾", "en": "towel", "ipa_br": "/ËˆtaÊŠ.É™l/", "ipa_am": "/ËˆtaÊŠ.É™l/", "example": "Grab a clean towel."}, {"category": "Daily", "zh": "è‚¥çš‚", "en": "soap", "ipa_br": "/sÉ™ÊŠp/", "ipa_am": "/soÊŠp/", "example": "Wash your hands with soap."}, {"category": "Daily", "zh": "æ´—æ‰‹æ¶²", "en": "hand soap", "ipa_br": "/hÃ¦nd sÉ™ÊŠp/", "ipa_am": "/hÃ¦nd soÊŠp/", "example": "We need more hand soap."}, {"category": "Daily", "zh": "æ´—å‘æ°´", "en": "shampoo", "ipa_br": "/ÊƒÃ¦mËˆpuË/", "ipa_am": "/ÊƒÃ¦mËˆpuË/", "example": "This shampoo smells nice."}, {"category": "Daily", "zh": "æŠ¤å‘ç´ ", "en": "conditioner", "ipa_br": "/kÉ™nËˆdÉªÊƒ.É™n.É™r/", "ipa_am": "/kÉ™nËˆdÉªÊƒ.É™n.Éš/", "example": "Use conditioner after shampoo."}, {"category": "Daily", "zh": "æ²æµ´éœ²", "en": "body wash", "ipa_br": "/ËˆbÉ’d.i wÉ’Êƒ/", "ipa_am": "/ËˆbÉ‘Ë.di wÉ‘ËÊƒ/", "example": "I prefer body wash to soap."}, {"category": "Daily", "zh": "æ¢³å­", "en": "comb", "ipa_br": "/kÉ™ÊŠm/", "ipa_am": "/koÊŠm/", "example": "He combed his hair."}, {"category": "Daily", "zh": "çº¸å·¾", "en": "tissue", "ipa_br": "/ËˆtÉªÊƒ.uË/", "ipa_am": "/ËˆtÉªÊƒ.uË/", "example": "Do you have a tissue?"}, {"category": "Daily", "zh": "å«ç”Ÿçº¸", "en": "toilet paper", "ipa_br": "/ËˆtÉ”Éª.lÉ™t ËŒpeÉª.pÉ™/", "ipa_am": "/ËˆtÉ”Éª.lÉ™t ËŒpeÉª.pÉš/", "example": "We ran out of toilet paper."}, {"category": "Daily", "zh": "åƒåœ¾è¢‹", "en": "trash bag", "ipa_br": "/trÃ¦Êƒ bÃ¦É¡/", "ipa_am": "/trÃ¦Êƒ bÃ¦É¡/", "example": "Replace the trash bag, please."}, {"category": "Daily", "zh": "æ´—è¡£æ¶²", "en": "laundry detergent", "ipa_br": "/ËˆlÉ”Ën.dri dÉªËˆtÉœË.dÊ’É™nt/", "ipa_am": "/ËˆlÉ”Ën.dri dÉªËˆtÉË.dÊ’É™nt/", "example": "Add the laundry detergent first."}, {"category": "Daily", "zh": "è¡£æ¶", "en": "hanger", "ipa_br": "/ËˆhÃ¦Å‹.É™/", "ipa_am": "/ËˆhÃ¦Å‹.Éš/", "example": "Hang your coat on a hanger."}, {"category": "Daily", "zh": "æ¯å­", "en": "cup / mug", "ipa_br": "/kÊŒp/", "ipa_am": "/mÊŒÉ¡/", "example": "I drink coffee from a mug."}, {"category": "Daily", "zh": "æ°´ç“¶", "en": "water bottle", "ipa_br": "/ËˆwÉ”Ë.tÉ™ ËŒbÉ’t.É™l/", "ipa_am": "/ËˆwÉ‘Ë.tÉš ËŒbÉ‘Ë.tÌ¬É™l/", "example": "Bring your water bottle."}, {"category": "Daily", "zh": "èƒŒåŒ…", "en": "backpack", "ipa_br": "/ËˆbÃ¦k.pÃ¦k/", "ipa_am": "/ËˆbÃ¦k.pÃ¦k/", "example": "She carries a backpack to school."}, {"category": "Daily", "zh": "é’±åŒ…", "en": "wallet", "ipa_br": "/ËˆwÉ’l.Éªt/", "ipa_am": "/ËˆwÉ‘Ë.lÉªt/", "example": "I left my wallet at home."}, {"category": "Daily", "zh": "é’¥åŒ™", "en": "key", "ipa_br": "/kiË/", "ipa_am": "/kiË/", "example": "Don't forget your keys."}, {"category": "Daily", "zh": "é›¨ä¼", "en": "umbrella", "ipa_br": "/ÊŒmËˆbrel.É™/", "ipa_am": "/ÊŒmËˆbrel.É™/", "example": "Take an umbrella; it might rain."}, {"category": "Daily", "zh": "æ‰‹ç”µç­’", "en": "flashlight / torch", "ipa_br": "/flÃ¦Êƒ.laÉªt/", "ipa_am": "/tÉ”ËrtÊƒ/", "example": "Use a flashlight in the dark."}, {"category": "Daily", "zh": "å£ç½©", "en": "mask", "ipa_br": "/mÉ‘Ësk/", "ipa_am": "/mÃ¦sk/", "example": "Wear a mask on the subway."}, {"category": "Daily", "zh": "åˆ›å¯è´´", "en": "band-aid / plaster", "ipa_br": "/ËˆplÉ‘Ë.stÉ™r/", "ipa_am": "/ËˆplÃ¦s.tÉš/", "example": "Put a band-aid on the cut."}, {"category": "Daily", "zh": "æ¶ˆæ¯’æ¹¿å·¾", "en": "disinfecting wipes", "ipa_br": "/ËŒdÉªs.ÉªnËˆfekt.ÉªÅ‹ waÉªps/", "ipa_am": "/ËŒdÉªs.ÉªnËˆfekt.ÉªÅ‹ waÉªps/", "example": "Use disinfecting wipes for the table."}, {"category": "Daily", "zh": "é—¹é’Ÿ", "en": "alarm clock", "ipa_br": "/É™ËˆlÉ‘Ëm klÉ’k/", "ipa_am": "/É™ËˆlÉ‘Ërm klÉ‘Ëk/", "example": "Set your alarm clock for 7."}, {"category": "Daily", "zh": "å……ç”µå™¨", "en": "charger", "ipa_br": "/ËˆtÊƒÉ‘Ë.dÊ’É™/", "ipa_am": "/ËˆtÊƒÉ‘Ër.dÊ’Éš/", "example": "This charger is fast."}, {"category": "Daily", "zh": "è€³æœº", "en": "earphones / headphones", "ipa_br": "/ËˆÉªÉ™.fÉ™ÊŠnz/", "ipa_am": "/ËˆhedËŒfoÊŠnz/", "example": "Use headphones on the bus."}, {"category": "Daily", "zh": "ç”µè„‘", "en": "computer / laptop", "ipa_br": "/kÉ™mËˆpjuË.tÉ™/", "ipa_am": "/kÉ™mËˆpjuË.tÉš/", "example": "I work on a laptop."}, {"category": "Daily", "zh": "é”®ç›˜", "en": "keyboard", "ipa_br": "/ËˆkiË.bÉ”Ëd/", "ipa_am": "/ËˆkiË.bÉ”Ërd/", "example": "The keyboard is mechanical."}, {"category": "Daily", "zh": "é¼ æ ‡", "en": "mouse", "ipa_br": "/maÊŠs/", "ipa_am": "/maÊŠs/", "example": "The mouse is wireless."}, {"category": "Daily", "zh": "å‰ªåˆ€", "en": "scissors", "ipa_br": "/ËˆsÉªz.É™z/", "ipa_am": "/ËˆsÉªz.Éšz/", "example": "Use scissors carefully."}, {"category": "Daily", "zh": "èƒ¶å¸¦", "en": "tape", "ipa_br": "/teÉªp/", "ipa_am": "/teÉªp/", "example": "We need clear tape."}, {"category": "Daily", "zh": "è®¢ä¹¦æœº", "en": "stapler", "ipa_br": "/ËˆsteÉª.plÉ™/", "ipa_am": "/ËˆsteÉª.plÉš/", "example": "Where is the stapler?"}, {"category": "Daily", "zh": "è®°å·ç¬”", "en": "marker", "ipa_br": "/ËˆmÉ‘Ë.kÉ™/", "ipa_am": "/ËˆmÉ‘Ër.kÉš/", "example": "Use a marker to label the box."}, {"category": "Daily", "zh": "è®°äº‹æœ¬", "en": "notebook", "ipa_br": "/ËˆnÉ™ÊŠt.bÊŠk/", "ipa_am": "/ËˆnoÊŠt.bÊŠk/", "example": "Write it in your notebook."}, {"category": "Daily", "zh": "ä¾¿ç­¾", "en": "sticky notes", "ipa_br": "/ËˆstÉªk.i nÉ™ÊŠts/", "ipa_am": "/ËˆstÉªk.i noÊŠts/", "example": "Leave a sticky note on the fridge."}, {"category": "Daily", "zh": "é¥æ§å™¨", "en": "remote control", "ipa_br": "/rÉªËŒmÉ™ÊŠt kÉ™nËˆtrÉ™ÊŠl/", "ipa_am": "/rÉªËŒmoÊŠt kÉ™nËˆtroÊŠl/", "example": "Use the remote control to change channels."}, {"category": "Daily", "zh": "ç”µè§†", "en": "TV / television", "ipa_br": "/Ëˆtel.Éª.vÉªÊ’.É™n/", "ipa_am": "/Ëˆtel.É™ËŒvÉªÊ’.É™n/", "example": "Turn off the TV before bed."}, {"category": "Daily", "zh": "åºŠ", "en": "bed", "ipa_br": "/bed/", "ipa_am": "/bed/", "example": "Make your bed in the morning."}, {"category": "Daily", "zh": "æ¤…å­", "en": "chair", "ipa_br": "/tÊƒeÉ™/", "ipa_am": "/tÊƒer/", "example": "This chair is comfortable."}, {"category": "Daily", "zh": "æ¡Œå­", "en": "table", "ipa_br": "/ËˆteÉª.bÉ™l/", "ipa_am": "/ËˆteÉª.bÉ™l/", "example": "Dinner is on the table."}, {"category": "Daily", "zh": "æ²™å‘", "en": "sofa / couch", "ipa_br": "/ËˆsÉ™ÊŠ.fÉ™/", "ipa_am": "/kaÊŠtÊƒ/", "example": "Sit on the sofa and relax."}, {"category": "Daily", "zh": "ç¯", "en": "lamp", "ipa_br": "/lÃ¦mp/", "ipa_am": "/lÃ¦mp/", "example": "Turn on the desk lamp."}, {"category": "Daily", "zh": "è¡£æœ", "en": "clothes", "ipa_br": "/klÉ™ÊŠÃ°z/", "ipa_am": "/kloÊŠÃ°z/", "example": "Fold your clothes."}, {"category": "Daily", "zh": "é‹å­", "en": "shoes", "ipa_br": "/ÊƒuËz/", "ipa_am": "/ÊƒuËz/", "example": "Take off your shoes at the door."}, {"category": "Daily", "zh": "å¤–å¥—", "en": "coat", "ipa_br": "/kÉ™ÊŠt/", "ipa_am": "/koÊŠt/", "example": "Wear a coat; it's cold outside."}, {"category": "Daily", "zh": "å›´å·¾", "en": "scarf", "ipa_br": "/skÉ‘Ëf/", "ipa_am": "/skÉ‘Ërf/", "example": "She wore a warm scarf."}];
const list = document.getElementById('list');
const search = document.getElementById('search');
const checks = Array.from(document.querySelectorAll('.cat-filter'));
const countEl = document.getElementById('count');
const exportBtn = document.getElementById('export');
const logoSlot = document.getElementById('logo-slot');
const logoSelect = document.getElementById('logoSelect');
const favicon = document.getElementById('favicon');

const LOGOS = { A:`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96"><defs><linearGradient id="gA" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#3b82f6"/><stop offset="1" stop-color="#2563EB"/></linearGradient></defs><circle cx="48" cy="48" r="44" fill="url(#gA)"/><g fill="#fff" font-family="Inter, Arial, sans-serif" font-weight="800"><text x="22" y="57" font-size="30">D</text><text x="49" y="57" font-size="30">W</text></g></svg>`, B:`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96"><defs><radialGradient id="gB" cx="30%" cy="20%" r="80%"><stop offset="0" stop-color="#60a5fa"/><stop offset="1" stop-color="#2563EB"/></radialGradient></defs><circle cx="48" cy="48" r="44" fill="url(#gB)"/><g fill="#fff" font-family="Nunito, Arial, sans-serif" font-weight="900"><text x="22" y="57" font-size="30">D</text><text x="49" y="57" font-size="30">W</text></g><path d="M20 32c8-6 18-9 28-9 10 0 20 3 28 9" fill="none" stroke="#ffffff" stroke-opacity=".25" stroke-width="4" stroke-linecap="round"/></svg>`, C:`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96"><defs><linearGradient id="gC" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#60a5fa"/><stop offset="1" stop-color="#2563EB"/></linearGradient></defs><circle cx="48" cy="48" r="44" fill="url(#gC)"/><g fill="#fff" font-family="Nunito, Arial, sans-serif" font-weight="900"><text x="20" y="56" font-size="30">D</text><text id="w" x="44" y="56" font-size="30">W</text></g><circle cx="66" cy="62" r="8" fill="none" stroke="#fff" stroke-width="3"/><rect x="73" y="68" width="10" height="4" rx="2" fill="#fff" transform="rotate(35 78 70)"/></svg>` };
const ICON_BRE = `<svg class="spk" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 10v4h3l4 3V7L7 10H4z" fill="currentColor"/><path d="M14 10a2 2 0 0 1 0 4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><text x="18" y="20" font-size="6" fill="currentColor">Br</text></svg>`;
const ICON_AME = `<svg class="spk" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 10v4h3l4 3V7L7 10H4z" fill="currentColor"/><path d="M14 8a4 4 0 0 1 0 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><text x="18" y="20" font-size="6" fill="currentColor">Am</text></svg>`;

function svgToDataUrl(svg) {
  const enc = encodeURIComponent(svg).replace(/'/g, "%27").replace(/"/g, "%22");
  return "data:image/svg+xml;charset=utf-8," + enc;
}

function setLogo(which) {
  const svg = LOGOS[which] || LOGOS.C;
  logoSlot.innerHTML = svg;
  favicon.href = svgToDataUrl(svg);
  localStorage.setItem('dw_logo', which);
  logoSelect.value = which;
}

function escapeHtml(s){return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;');}

function norm(s){return (s||'').toLowerCase().trim();}

function render(items){
  list.innerHTML = items.map(it => {
    const titleBtns = `
      <button class="spk-btn" data-acc="BrE" data-en="${escapeHtml(it.en)}">${ICON_BRE} BrE</button>
      <button class="spk-btn" data-acc="AmE" data-en="${escapeHtml(it.en)}">${ICON_AME} AmE</button>
    `;
    return `
      <li class="item">
        <details>
          <summary class="summary">
            <span class="controls">
              <span class="badge">\${it.category}</span>
              <span class="word speak-title" data-en="\${escapeHtml(it.en)}">\${escapeHtml(it.en)}</span>
              <span class="small">â€” \${escapeHtml(it.zh)}</span>
            </span>
            <span class="spk-pair" data-en="\${escapeHtml(it.en)}">${titleBtns}</span>
          </summary>
          <div class="details">
            <div class="ipa">
              <span><b>BrE</b> \${escapeHtml(it.ipa_br)} <button class="spk-btn" data-acc="BrE" data-en="\${escapeHtml(it.en)}">${ICON_BRE} Play</button></span>
              <span><b>AmE</b> \${escapeHtml(it.ipa_am)} <button class="spk-btn" data-acc="AmE" data-en="\${escapeHtml(it.en)}">${ICON_AME} Play</button></span>
            </div>
            <div><b>Example:</b> \${escapeHtml(it.example)}</div>
          </div>
        </details>
      </li>`;
  }).join('');
  countEl.textContent = `Showing ${items.length} / ${RAW.length} words`;
}

function apply(){
  const kw = norm(search.value);
  const chosen = new Set(checks.filter(c=>c.checked).map(c=>c.value));
  const filtered = RAW.filter(it => chosen.has(it.category) && (!kw || norm(it.en).includes(kw) || norm(it.zh).includes(kw)));
  render(filtered);
}

// ===== CSV Export =====
function exportCSV(){
  const kw = norm(search.value);
  const chosen = new Set(checks.filter(c=>c.checked).map(c=>c.value));
  const filtered = RAW.filter(it => chosen.has(it.category) && (!kw || norm(it.en).includes(kw) || norm(it.zh).includes(kw)));
  const header = ['Category','Chinese','English','IPA_BrE','IPA_AmE','Example'];
  const lines = [header].concat(filtered.map(it => [it.category,it.zh,it.en,it.ipa_br,it.ipa_am,it.example]));
  const csv = lines.map(row => row.map(v => `"${String(v).replaceAll('"','""')}"`).join(',')).join('\n');
  const blob = new Blob([csv], {type:'text/csv;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'daily_words.csv';
  document.body.appendChild(a); a.click();
  URL.revokeObjectURL(url); a.remove();
}

// ===== Speech Synth (Web Speech API) =====
let voices = [];
let voicesReady = false;
const ACCENT_KEY = 'dw_accent'; // default accent for title click
const defaultAccent = localStorage.getItem(ACCENT_KEY) || 'AmE';

function refreshVoices() {
  if (!('speechSynthesis' in window)) return;
  voices = window.speechSynthesis.getVoices() || [];
  voicesReady = voices.length > 0;
}

refreshVoices();
if ('speechSynthesis' in window) {
  window.speechSynthesis.onvoiceschanged = () => {
    refreshVoices();
  };
}

function pickVoice(tagPref) {
  if (!voicesReady) return null;
  // exact match first
  let exact = voices.find(v => v.lang === tagPref);
  if (exact) return exact;
  // region-weighted
  if (tagPref === 'en-GB') {
    const gb = voices.filter(v => /en-GB|British|UK/i.test(v.lang + ' ' + v.name));
    if (gb.length) return gb[0];
  }
  if (tagPref === 'en-US') {
    const us = voices.filter(v => /en-US|United States|US English/i.test(v.lang + ' ' + v.name));
    if (us.length) return us[0];
  }
  // any English
  const en = voices.filter(v => /^en(-|_)?/i.test(v.lang));
  return en[0] || voices[0] || null;
}

function speak(text, accent, btn) {
  if (!('speechSynthesis' in window)) {
    alert('å½“å‰æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³æœ—è¯»ã€‚å¯æ›´æ¢ Chrome / Safari å°è¯•ã€‚');
    return;
  }
  // On some mobile browsers, need a user gesture first; clicking button/word counts.
  const utter = new SpeechSynthesisUtterance(text);
  utter.rate = 0.95;
  utter.pitch = 1.0;
  utter.lang = (accent === 'BrE') ? 'en-GB' : 'en-US';
  const v = pickVoice(utter.lang);
  if (v) utter.voice = v;

  if (btn) btn.classList.add('playing');
  utter.onend = () => { if (btn) btn.classList.remove('playing'); };
  try { window.speechSynthesis.cancel(); } catch(e) {}
  window.speechSynthesis.speak(utter);
}

// delegation for clicks
document.addEventListener('click', (e) => {
  // speaker buttons
  const spk = e.target.closest('.spk-btn');
  if (spk && spk.dataset.en) {
    e.stopPropagation();
    const acc = spk.dataset.acc || 'AmE';
    const en = spk.dataset.en;
    // if user explicitly clicked an accent button, remember it for title-click default
    localStorage.setItem(ACCENT_KEY, acc);
    speak(en, acc, spk);
    return;
  }
  // clicking the English word (title) -> speak with default accent
  const title = e.target.closest('.speak-title');
  if (title && title.dataset.en) {
    const en = title.dataset.en;
    const acc = localStorage.getItem(ACCENT_KEY) || defaultAccent || 'AmE';
    speak(en, acc, title);
    return;
  }
});

// events
search.addEventListener('input', apply);
checks.forEach(c => c.addEventListener('change', apply));
exportBtn.addEventListener('click', exportCSV);
logoSelect.addEventListener('change', e => setLogo(e.target.value));

// init
setLogo(localStorage.getItem('dw_logo') || 'C'); // default main logo
apply();
</script>
</body>
</html>